@using System.ComponentModel.DataAnnotations

@page "/sign-up";

<h2>Sign up</h2>
    <MudForm @ref="form">
        <MudGrid>
        <MudItem xs="12" sm="6">
            <MudTextField T="string" Class="form-text-field" Required="true" RequiredError="A Name is required" Label="First Name" InputType="@InputType.Text" @bind-Value="formValues.firstName" />
        </MudItem>
        <MudItem xs="12" sm="6">
            <MudTextField T="string" Class="form-text-field" Required="true" RequiredError="A last name is required" Label="Last name('s)" InputType="@InputType.Text" @bind-Value="formValues.lastName" />
        </MudItem>
        <MudItem xs="12" sm="6">
            <MudTextField T="string" Class="form-text-field" Required="true" RequiredError="A phone number is required" Label="Phone Number" InputType="@InputType.Telephone" @bind-Value="formValues.phoneNumber" />
        </MudItem>
        <MudItem xs="12" sm="6">
            <MudTextField T="string" Class="form-text-field" Required="true" RequiredError="A birth date is required" Label="Birth date" InputType="@InputType.Date" @bind-Value="formValues.birthDate" />
        </MudItem>
        <MudItem xs="12" sm="6">
            <MudTextField T="string" Class="form-text-field" Required="true" RequiredError="A password is required" Label="Password" InputType="@InputType.Password" @bind-Value="formValues.password" />
        </MudItem>
        <MudItem xs="12" sm="6">
            <MudTextField T="string" Class="form-text-field" Required="true" RequiredError="You have to repeat your password" Label="Repeat password" InputType="@InputType.Password" @bind-Value="formValues.passwordRepeat" />
        </MudItem>
        <MudItem xs="12" sm="6">
            <MudButton Variant="Variant.Filled" Color="Color.Primary" OnClick="ValidateForm" >Submit</MudButton>
        </MudItem>
    </MudGrid>
    </MudForm>


@code {
    private MudForm form;
    private RegisterAccountFormValues formValues = new RegisterAccountFormValues();

    public class RegisterAccountFormValues
    {

        [Required]
        [StringLength(36, ErrorMessage = "Maximum 36, minimum 2", MinimumLength = 2)]
        public string firstName { get; set; }

        [Required]
        [StringLength(112, ErrorMessage = "Maximum 112, minimum 2", MinimumLength = 2)]
        public string lastName { get; set; }

        [Required]
        [StringLength(24, ErrorMessage = "Maximum 24 characters, minimum 4", MinimumLength = 4)]
        public string phoneNumber { get; set; }

        [Required]
        public string birthDate { get; set; }

        [Required]
        [StringLength(48, ErrorMessage = "Maximum 48 characters, minimum 8", MinimumLength = 8)]
        public string password { get; set; }

        [Required]
        [Compare(nameof(password))]
        public string passwordRepeat { get; set; }

    }

    public void ValidateForm()
    {
        Console.WriteLine("Finished");
    }

}